@using StaffDesk.Domain
@model HumanResourcesListViewModel
@{
	ViewData["Title"] = "Human Resources";
}

<form>
	<div class="form-group">
		<label asp-for="Query.Status">Status</label>
		<select asp-for="Query.Status" asp-items="Model.StatusOptions" class="form-control">
			<option value="">Any</option>
		</select>
	</div>
	<div class="form-group">
		<label asp-for="Query.DepartmentId">Department</label>
		<select asp-for="Query.DepartmentId" asp-items="Model.DepartmentsOptions" class="form-control">
			<option value="">Any</option>
		</select>
	</div>
	<div class="form-group">
		<label asp-for="Query.SortOrder">Sort By</label>
		<select asp-for="Query.SortOrder" class="form-control">
			<option value="@ResourceSortOrder.NameAscending">Name [A-Z]</option>
			<option value="@ResourceSortOrder.NameDescending">Name [Z-A]</option>
			<option value="@ResourceSortOrder.DateOfBirthAscending">DoB Ascending</option>
			<option value="@ResourceSortOrder.DateOfBirthDescending">DoB Descending</option>
		</select>
	</div>
	<button type="submit" class="btn btn-primary">Search</button>
</form>

<table class="table table-striped">
	<thead>
		<tr>
			<th>Name</th>
			<th>DoB</th>
			<th>Department</th>
			<th>Status</th>
			<th>Employee No.</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
	@foreach (var resource in Model.HumanResources.Items)
	{
		<tr>
			<td>@resource.FirstName <strong>@resource.LastName</strong></td>
			<td>@resource.DateOfBirth?.ToString("d")</td>
			<td>@resource.Department?.Name</td>
			<td>@resource.Status</td>
			<td>@resource.EmployeeNumber</td>
			<td>
				<a asp-action="Edit" asp-route-id="@resource.Id" class="btn btn-sm btn-info">Edit</a>
			</td>
		</tr>
	}
	</tbody>
</table>

<partial name="_Pagination" model="Model.HumanResources" />